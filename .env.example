#=====================================================================#
#                  Aipyq 最小化配置                             #
#=====================================================================#
# 此文件包含运行 Aipyq 所需的最基本配置                        #
# 完整配置请参考 .env.example                                        #
#=====================================================================#

#==================================================#
#               服务器配置（必需）                  #
#==================================================#
#标题
APP_TITLE=AipyqChat
# 服务器主机地址
HOST=localhost
# 服务器端口号（应用内部使用）
PORT=4080

# Docker 端口配置（用于 docker-compose.yml 端口映射）

API_PORT=4080
# MongoDB 端口（默认：27017）
MONGO_PORT=37017
# Meilisearch 端口（默认：7700）
MEILI_PORT=8700
# RAG API 端口（默认：8000）
RAG_PORT=9000
# API 服务端口（默认：3080）rag_api 需要 OPENAI_API_KEY 才能启动
OPENAI_API_KEY=your-openai-api-key
#==================================================#
#               认证配置（必需）                   #
#==================================================#

# JWT 密钥（用于用户认证，请务必修改为随机字符串）
JWT_SECRET=16f8c0ef4a5d391b26034086c628469d3f9f497f08163ab9b40137092f2909ef
# JWT 刷新密钥（请务必修改为随机字符串）
JWT_REFRESH_SECRET=eaa5191f2914e30b9387fd84e254e4ba6fc51b4654968a9b0803b456a54b8418

# 会话过期时间（毫秒）
SESSION_EXPIRY=1000 * 60 * 15
# 刷新令牌过期时间（毫秒）
REFRESH_TOKEN_EXPIRY=(1000 * 60 * 60 * 24) * 7

#==================================================#
#            Meilisearch 配置（必需）              #
#==================================================#

# Meilisearch 主密钥（请务必修改）
MEILI_MASTER_KEY=DrhYf7zENyR6AlUCKmnz0eYASOQdl6zxH7s7MKFSfFCt
# Meilisearch 主机
MEILI_HOST=http://0.0.0.0:7700
# 启用搜索功能
SEARCH=true
# Meilisearch 无分析
MEILI_NO_ANALYTICS=true

#==================================================#
#            Docker 配置（Docker 部署需要）         #
#==================================================#

# 用户ID（Docker 容器内用户ID）
UID=1000
# 组ID（Docker 容器内组ID）
GID=1000

# Docker 端口配置说明：
# 如果端口冲突，可以修改以下端口：
# API_PORT=4080      # 修改 API 服务端口
# MONGO_PORT=37017   # 修改 MongoDB 端口
# MEILI_PORT=8700    # 修改 Meilisearch 端口
# RAG_PORT=9000      # 修改 RAG API 端口

#==================================================#
#           注册和登录设置（常用）                 #
#==================================================#

# 允许注册
ALLOW_REGISTRATION=true
# 允许邮箱登录
ALLOW_EMAIL_LOGIN=true
# 允许社交登录（设置为 false 禁用）
ALLOW_SOCIAL_LOGIN=false
# 允许未验证邮箱登录
ALLOW_UNVERIFIED_EMAIL_LOGIN=true

#==================================================#
#           其他常用配置（可选）                   #
#==================================================#

# 是否禁用索引页面（SEO）
NO_INDEX=true
# 代理设置（如果使用反向代理，设置为 1）
TRUST_PROXY=1

# 启用调试日志
DEBUG_LOGGING=true
# 控制台调试输出
DEBUG_CONSOLE=false

#==================================================#
#           AI API 密钥（至少配置一个）            #
#==================================================#
# 以下至少需要配置一个 AI 服务才能使用聊天功能

# OpenAI API 密钥
# OPENAI_API_KEY=your-openai-api-key

# Anthropic API 密钥
ANTHROPIC_API_KEY=user_provided

# Google API 密钥
GOOGLE_KEY=user_provided

# 其他 AI 服务密钥（可选）
# GROQ_API_KEY=
# MISTRAL_API_KEY=
# OPENROUTER_KEY=

#==================================================#
#           其他可选配置                           #
#==================================================#
# 以下配置可根据需要启用

# 用户认证的最小密码长度（默认: 8）
# MIN_PASSWORD_LENGTH=8

# 允许密码重置
# ALLOW_PASSWORD_RESET=false

# 内容审核（OpenAI）
# OPENAI_MODERATION=false

# 语音转文本 API 密钥
# STT_API_KEY=

# 文本转语音 API 密钥
# TTS_API_KEY=

# Redis 配置（用于缓存和会话存储）
# USE_REDIS=true
# REDIS_URI=redis://127.0.0.1:6379

# 文件存储配置（默认使用本地存储）
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_BUCKET_NAME=
# AWS_REGION=

# 邮件配置（用于密码重置等）
# EMAIL_SERVICE=
# EMAIL_HOST=
# EMAIL_PORT=25
# EMAIL_USERNAME=
# EMAIL_PASSWORD=
# EMAIL_FROM=noreply@Aipyq.ai

# 社交登录配置（需要先设置 ALLOW_SOCIAL_LOGIN=true）
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# DISCORD_CLIENT_ID=
# DISCORD_CLIENT_SECRET=
APP_TITLE=AI朋友圈

#==================================================#
#           Docker 镜像配置（可选）                #
#==================================================#
# 如果使用自定义镜像仓库，请配置以下变量

# Docker 镜像仓库地址（默认: ghcr.io）
# 可选值: ghcr.io, docker.io, 或私有仓库地址
# DOCKER_REGISTRY=ghcr.io

# Docker 镜像仓库用户名（默认: your-username）
# DOCKER_REGISTRY_USER=your-username

# 镜像名称前缀（默认: aipyq）
# IMAGE_PREFIX=aipyq

# 镜像标签（默认: latest）
# IMAGE_TAG=latest

# 示例配置:
# DOCKER_REGISTRY=ghcr.io
# DOCKER_REGISTRY_USER=myusername
# IMAGE_PREFIX=aipyq
# IMAGE_TAG=v1.0.0
# 
# 生成的镜像名称: ghcr.io/myusername/aipyq:v1.0.0
